import{C as n,D as p,I as f,t as m,x as P}from"./chunk-QFAIQ2LR.js";import{$ as u,ea as b}from"./chunk-7EJ4QSIG.js";import{a as l,g as e}from"./chunk-RA2WU32H.js";var g=class D{firestore=b(P);auth=b(m);constructor(){}diasPorDefecto={lunes:[],martes:[],miercoles:[],jueves:[],viernes:[],sabado:[],domingo:[]};obtenerDisponibilidad(a){return e(this,null,function*(){let i=yield p(n(this.firestore,"Usuarios",a));if(!i.exists())return{};let o=i.data(),s=o.disponibilidad||{};return o.especialidad.forEach(r=>{s[r]?["lunes","martes","miercoles","jueves","viernes","sabado","domingo"].forEach(t=>{s[r][t]||(s[r][t]=[])}):s[r]=l({},this.diasPorDefecto)}),s})}obtenerDisponibilidadPorEspecialidad(a,i){return e(this,null,function*(){return(yield this.obtenerDisponibilidad(a))[i]||l({},this.diasPorDefecto)})}guardarDisponibilidad(a,i){return e(this,null,function*(){let o=n(this.firestore,"Usuarios",a);yield f(o,{disponibilidad:i})})}guardarDisponibilidadPorEspecialidad(a,i,o){return e(this,null,function*(){let s=n(this.firestore,"Usuarios",a),r=yield p(s);if(!r.exists())return;let t=r.data().disponibilidad||{};t[i]=o,yield f(s,{disponibilidad:t})})}setFranjaHoraria(a,i,o,s){return e(this,null,function*(){let r=n(this.firestore,"Usuarios",a),c=yield p(r);if(!c.exists())return;let t=c.data();t.disponibilidad||(t.disponibilidad={});let d=t.disponibilidad;console.log(d),d[i]||(d[i]=l({},this.diasPorDefecto)),s.length>0?(d[i][o]=[...s],console.log("archivo a modificar del dia "+o),console.log(d[i][o])):delete d[i][o],yield f(r,{disponibilidad:d})})}static \u0275fac=function(i){return new(i||D)};static \u0275prov=u({token:D,factory:D.\u0275fac,providedIn:"root"})};export{g as a};
