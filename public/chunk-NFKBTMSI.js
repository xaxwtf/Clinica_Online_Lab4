import{a as F}from"./chunk-ZTDRQA3F.js";import{a as xe}from"./chunk-NXW4M5VV.js";import{a as z,b as le,c as de}from"./chunk-MM77IBGC.js";import{b as Y}from"./chunk-ZVCBVPXI.js";import{a as ue,c as fe}from"./chunk-OKQIR3MI.js";import"./chunk-XLBLZLZD.js";import{a as ce,b as pe,x as me}from"./chunk-ASAGM7SV.js";import{c as Z,d as c,f as ee,g as te,j as ie,k as ne,m as oe,n as ae,q as re,s as se}from"./chunk-EHXU5XNA.js";import"./chunk-BYXBJQAS.js";import{d as A}from"./chunk-E7BGHA2P.js";import"./chunk-QFAIQ2LR.js";import"./chunk-SGZLCR6E.js";import{$c as X,Ab as h,Ba as H,Bb as b,Cb as P,Db as w,Eb as O,Fb as x,Gb as l,Hb as d,Ib as p,Jb as u,Kb as m,Lb as J,Pb as K,Qb as k,Rb as f,Sb as D,Tb as Q,Wa as q,Ya as o,_c as W,bb as I,ea as M,fc as a,gb as G,hb as g,hc as _,ja as L,ka as j,nb as E,pb as $,qc as R,rc as B}from"./chunk-7EJ4QSIG.js";import{e as Ee,g as v}from"./chunk-RA2WU32H.js";function ve(n,t){if(n&1&&(u(0,"h4"),a(1),R(2,"uppercase"),m()),n&2){let i=t.$implicit;o(),_("",B(2,1,i)," ")}}var N=class n{Usuario;cambiarEstado=new I;formatearDNI=F;ngOnInit(){}habilitar(){this.cambiarEstado.emit(!0),console.log("intentando habilitar  usuario")}inhabilitar(){this.cambiarEstado.emit(!1)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=E({type:n,selectors:[["app-un-especialista"]],inputs:{Usuario:"Usuario"},outputs:{cambiarEstado:"cambiarEstado"},decls:25,vars:10,consts:[[1,"Informacion"],[1,"imagenPerfil"],["alt","test",3,"src"],[1,"ActualizarEstados"],[3,"click","disabled"]],template:function(i,e){i&1&&(u(0,"div",0)(1,"section")(2,"h4"),a(3),m(),u(4,"h4"),a(5),m(),u(6,"h4"),a(7),m(),u(8,"h4"),a(9),R(10,"formatearDNI"),m(),u(11,"section")(12,"h4"),a(13," Especialidades:"),m(),w(14,ve,3,3,"h4",null,P),m(),u(16,"h4"),a(17),m()(),u(18,"section",1),J(19,"img",2),m()(),u(20,"div",3)(21,"button",4),D("click",function(){return e.habilitar()}),a(22,"Habilitar"),m(),u(23,"button",4),D("click",function(){return e.inhabilitar()}),a(24,"Inhabilitar"),m()()),i&2&&(o(3),_(" Nombre: ",e.Usuario.Nombre," "),o(2),_(" Apellido: ",e.Usuario.Apellido," "),o(2),_(" Edad: ",e.Usuario.Edad," "),o(2),_(" DNI: ",B(10,8,e.Usuario.DNI)," "),o(5),O(e.Usuario.especialidad),o(3),_(" Mail: ",e.Usuario.Email," "),o(2),k("src",e.Usuario.ImagenesDePerfil[0],q),o(2),k("disabled",e.Usuario.activo),o(2),k("disabled",!e.Usuario.activo))},dependencies:[X,W,F],styles:[".Informacion[_ngcontent-%COMP%]{background:#fff;padding:20px 24px;border-radius:12px;border:1px solid #e1e5ea;box-shadow:0 2px 6px #0000000d;display:grid;grid-template-columns:1fr 1fr;gap:12px 20px;max-width:650px;margin:auto;font-family:Segoe UI,sans-serif}.Informacion[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:10px;font-size:1rem;color:#333;font-weight:500}.Informacion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:10px;object-fit:cover;border:1px solid #d0d4d9;justify-self:center}.ActualizarEstados[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;gap:16px}.ActualizarEstados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;border:none;font-size:1rem;cursor:pointer;font-weight:600;transition:.25s ease;min-width:130px}.ActualizarEstados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#2e7d32;color:#fff}.ActualizarEstados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover:not([disabled]){background:#256528}.ActualizarEstados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#d32f2f;color:#fff}.ActualizarEstados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover:not([disabled]){background:#b12828}.ActualizarEstados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}section.imagenPerfil[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}@media (max-width: 600px){.Informacion[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}}"]})};var he=Ee(xe());var S=class n{constructor(t,i){this.el=t;this.renderer=i}habilitado=!0;verificado=new I;operandoA;operandoB;operador="+";resultado;inputUsuario;ngOnInit(){if(!this.habilitado){this.verificado.emit(!0);return}this.crearCaptcha()}crearCaptcha(){let t=this.renderer.createElement("div");this.renderer.setStyle(t,"display","flex"),this.renderer.setStyle(t,"align-items","center"),this.renderer.setStyle(t,"gap","5px"),this.operandoA=this.generarNumero(),this.operandoB=this.generarNumero(),this.resultado=this.operandoA+this.operandoB;let i=this.renderer.createElement("span"),e=this.renderer.createElement("span"),r=this.renderer.createElement("span"),s=this.renderer.createElement("input");this.inputUsuario=s,this.renderer.setAttribute(s,"type","number"),this.renderer.setAttribute(s,"placeholder","Resultado"),i.innerText=this.operandoA.toString(),e.innerText=this.operador,r.innerText=this.operandoB.toString(),this.renderer.appendChild(t,i),this.renderer.appendChild(t,e),this.renderer.appendChild(t,r),this.renderer.appendChild(t,s),this.renderer.appendChild(this.el.nativeElement,t)}generarNumero(){return Math.floor(Math.random()*10)+1}onInput(){if(!this.habilitado)return;let t=Number(this.inputUsuario.value);this.verificado.emit(t===this.resultado)}static \u0275fac=function(i){return new(i||n)(g(H),g(G))};static \u0275dir=$({type:n,selectors:[["","appCaptcha",""]],hostBindings:function(i,e){i&1&&f("input",function(){return e.onInput()})},inputs:{habilitado:"habilitado"},outputs:{verificado:"verificado"}})};function Ie(n,t){n&1&&(l(0,"p",6),a(1," El Nombre No es V\xE1lido"),d())}function Pe(n,t){n&1&&(l(0,"p",6),a(1," El Apellido No es V\xE1lido"),d())}function we(n,t){n&1&&(l(0,"p",6),a(1," edad"),d())}function Oe(n,t){n&1&&(l(0,"p",6),a(1," El DNI ingresado no es Valido "),d())}function ke(n,t){n&1&&(l(0,"p",6),a(1," El Correo Electronico No es Valido"),d())}function Ae(n,t){n&1&&(l(0,"p",6),a(1," Las Contrase\xF1as no Coinciden"),d())}function Ne(n,t){n&1&&(l(0,"p",6),a(1," Debe Seleccionar al Menos una Imagen"),d())}function Se(n,t){n&1&&(l(0,"p",6),a(1," El Chapta Es incorrecto!"),d())}var U=class n{constructor(t,i,e){this.fb=t;this.router=i;this.serv_Usuario=e;this.registro=this.fb.group({nombre:["",[c.required,z,c.minLength(2)]],apellido:["",[c.required,z,c.minLength(2)]],dni:["",c.required,c.minLength(8),c.maxLength(8)],correoElectronico:["",[c.required,c.email]],contrasenia:["",c.required,c.minLength(6)],contraseniaConf:["",c.required],edad:[,c.required,he.isNumber,isFinite(0)],imgPerfil:[],operandoA:[""],operador:[""],operandoB:[""],resultadoChapta:[""]},{validators:[le("contrasenia","contraseniaConf"),de]})}dialogRef=M(ue);registro;selectedFiles=[];faCoffee=me;ngOnInit(){this.setCaptcha()}onFilesSelected(t){t.target.files&&t.target.files.length>0&&(this.selectedFiles=Array.from(t.target.files).slice(0,2))}registrarUsuario(){return v(this,null,function*(){let{correoElectronico:t,contrasenia:i,nombre:e,apellido:r,edad:s,dni:y,obraSocial:C,imgPerfilUno:_e,imgPerfilDos:De}=this.registro.value,Ce={Nombre:e,Apellido:r,Edad:s,DNI:y,Email:t,ImagenesDePerfil:[_e],rol:"admin"};try{(yield this.serv_Usuario.register(t,i,Ce,this.selectedFiles))==null?console.log("No se ha registrado el usuario"):console.log("Usuario registrado con \xE9xito")}catch(V){console.error("Error al registrar usuario:",V)}})}setCaptcha(){let t=["+","-","*","/"],i=this.registro,e=t[Math.floor(Math.random()*t.length)];i.get("operador")?.setValue(e);let r=Math.floor(Math.random()*10)+1,s=Math.floor(Math.random()*10)+1;Math.random()<.5?(i.get("operandoA")?.reset(),i.get("operandoA")?.enable(),i.get("operandoB")?.setValue(s),i.get("operandoB")?.disable()):(i.get("operandoB")?.reset(),i.get("operandoB")?.enable(),i.get("operandoA")?.setValue(r),i.get("operandoA")?.disable());let C=0;switch(e){case"+":C=r+s;break;case"-":C=r-s;break;case"*":C=r*s;break;case"/":C=s!==0?r/s:0;break}i.get("resultadoChapta")?.setValue(C)}onClickRegenerarCatpcha(){this.setCaptcha()}cancelar(){this.dialogRef.close()}confirmar(){this.registrarUsuario(),this.dialogRef.close()}captchaValido=!1;submit(){if(!this.captchaValido){console.log("Captcha incorrecto!");return}}static \u0275fac=function(i){return new(i||n)(g(re),g(Y),g(A))};static \u0275cmp=E({type:n,selectors:[["app-registro-admin"]],decls:37,vars:11,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[3,"ngSubmit","formGroup"],[1,"form-title"],[1,"form-scrollable"],["type","text","name","login","placeholder","Nombre","formControlName","nombre",1,"fadeIn","second"],[2,"color","red","font-size","xx-small"],["type","text","name","login","placeholder","Apellido","formControlName","apellido",1,"fadeIn","second"],["type","number","name","login","placeholder","Edad","formControlName","edad",1,"fadeIn","second"],["type","text","name","login","placeholder","Nro DNI","formControlName","dni",1,"fadeIn","second"],["type","text","name","login","placeholder","Correo Electronico","formControlName","correoElectronico",1,"fadeIn","second"],["type","password","id","password","name","login","placeholder","Contrase\xF1a","formControlName","contrasenia",1,"fadeIn","third"],["type","password","id","passwordotra","name","login","placeholder","Confirmar Contrase\xF1a","formControlName","contraseniaConf",1,"fadeIn","third"],["type","file","name","login","placeholder","Imagen de Perfil","formControlName","imgPerfil","accept","image/*",1,"fadeIn","second",3,"change"],[1,"chapta"],["type","text","value","5","formControlName","operandoA",1,"ch"],["type","text","formControlName","operador","readonly","",1,"ch"],["type","text","formControlName","operandoB",1,"ch"],["type","text","formControlName","resultadoChapta",1,"ch"],["type","button",1,"icon-btn",3,"click"],[3,"icon"],["appCaptcha","",3,"verificado","habilitado"],[1,"form-buttons"],["type","submit","value","Registrar",1,"fadeIn","fourth"],["type","button","value","Cancelar",1,"fadeIn","fourth",3,"click"]],template:function(i,e){if(i&1&&(l(0,"div",0)(1,"div",1)(2,"form",2),f("ngSubmit",function(){return e.confirmar()}),l(3,"h2",3),a(4," Registro Administrador"),d(),l(5,"div",4),p(6,"input",5),h(7,Ie,2,0,"p",6),p(8,"input",7),h(9,Pe,2,0,"p",6),p(10,"input",8),h(11,we,2,0,"p",6),p(12,"input",9),h(13,Oe,2,0,"p",6),p(14,"input",10),h(15,ke,2,0,"p",6),p(16,"input",11),h(17,Ae,2,0,"p",6),p(18,"input",12),l(19,"h4"),a(20,"Imagene De Perfil"),d(),l(21,"input",13),f("change",function(s){return e.onFilesSelected(s)}),d(),h(22,Ne,2,0,"p",6),l(23,"div",14),p(24,"input",15)(25,"input",16)(26,"input",17),a(27," = "),p(28,"input",18),l(29,"button",19),f("click",function(){return e.onClickRegenerarCatpcha()}),p(30,"fa-icon",20),d()(),h(31,Se,2,0,"p",6),d(),p(32,"br"),l(33,"div",21),f("verificado",function(s){return e.captchaValido=s}),d(),l(34,"div",22),p(35,"input",23),l(36,"input",24),f("click",function(){return e.cancelar()}),d()()()()()),i&2){let r,s;o(2),x("formGroup",e.registro),o(5),b(e.registro.controls.nombre.errors&&e.registro.controls.nombre.touched?7:-1),o(2),b(e.registro.controls.apellido.errors&&e.registro.controls.apellido.touched?9:-1),o(2),b(e.registro.controls.correoElectronico.errors&&e.registro.controls.correoElectronico.touched?11:-1),o(2),b(e.registro.controls.dni.errors&&e.registro.controls.dni.touched?13:-1),o(2),b(e.registro.controls.correoElectronico.errors&&e.registro.controls.correoElectronico.touched?15:-1),o(2),b(e.registro.hasError("passwordsMismatch")&&((r=e.registro.get("contraseniaConf"))!=null&&r.touched)?17:-1),o(5),b(e.registro.controls.correoElectronico.errors&&e.registro.controls.correoElectronico.touched?22:-1),o(8),x("icon",e.faCoffee),o(),b(e.registro.hasError("captchaIncorrecto")&&((s=e.registro.get("operandoA"))!=null&&s.touched||(s=e.registro.get("operandoB"))!=null&&s.touched)?31:-1),o(2),x("habilitado",!0)}},dependencies:[pe,ce,se,ie,Z,ne,ee,te,oe,ae,S],styles:['.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{-webkit-border-radius:10px 10px 10px 10px;border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;-webkit-box-shadow:0 30px 60px 0 rgba(0,0,0,.3);box-shadow:0 30px 60px #0000004d;text-align:center}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;-webkit-box-shadow:0 10px 30px 0 rgba(95,186,233,.4);box-shadow:0 10px 30px #5fbae966;-webkit-border-radius:5px 5px 5px 5px;border-radius:5px;margin:5px 20px 15px;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-ms-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{-moz-transform:scale(.95);-webkit-transform:scale(.95);-o-transform:scale(.95);-ms-transform:scale(.95);transform:scale(.95)}input[type=text][_ngcontent-%COMP%], [type=number][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out;-webkit-border-radius:5px 5px 5px 5px;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_fadeInDown;animation-name:_ngcontent-%COMP%_fadeInDown;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;-webkit-animation:_ngcontent-%COMP%_fadeIn ease-in 1;-moz-animation:fadeIn ease-in 1;animation:_ngcontent-%COMP%_fadeIn ease-in 1;-webkit-animation-fill-mode:forwards;-moz-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-duration:1s;-moz-animation-duration:1s;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{-webkit-animation-delay:.4s;-moz-animation-delay:.4s;animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{-webkit-animation-delay:.6s;-moz-animation-delay:.6s;animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{-webkit-animation-delay:.8s;-moz-animation-delay:.8s;animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{-webkit-animation-delay:1s;-moz-animation-delay:1s;animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}h4[_ngcontent-%COMP%]{color:#56baed}div.chapta[_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 20px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;flex-direction:row}input.ch[_ngcontent-%COMP%]{width:25px;padding:0}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #ccc;padding:10px}']})};function Ue(n,t){if(n&1){let i=K();l(0,"app-un-especialista",5),f("cambiarEstado",function(r){let s=L(i).$implicit,y=Q();return j(y.onCambiarEstado(s,r))}),d()}if(n&2){let i=t.$implicit;x("Usuario",i)}}var be=class n{constructor(t){this.serv_Usuarios=t}especialistas=[];dialog=M(fe);ngOnInit(){return v(this,null,function*(){this.especialistas=yield this.serv_Usuarios.getUsuariosByCampo("rol","Especialista")})}onCambiarEstado(t,i){this.serv_Usuarios.actualizarEstadoEspecialista(t.uid,i).then(()=>{t.activo=i})}generarNuevoAdmin(){return v(this,null,function*(){let t=this.dialog.open(U,{disableClose:!0,width:"700px"})})}static \u0275fac=function(i){return new(i||n)(g(A))};static \u0275cmp=E({type:n,selectors:[["app-lista-especialistas"]],decls:9,vars:0,consts:[[1,"ContainerEspecialistas"],[1,"ListaEspecialistas"],[3,"Usuario"],[1,"NuevoAdminContainer"],[3,"click"],[3,"cambiarEstado","Usuario"]],template:function(i,e){i&1&&(l(0,"div",0)(1,"h2"),a(2,"Especialistas"),d(),l(3,"div",1),w(4,Ue,1,1,"app-un-especialista",2,P),d(),l(6,"div",3)(7,"button",4),f("click",function(){return e.generarNuevoAdmin()}),a(8,"Nuevo Administrador"),d()()()),i&2&&(o(4),O(e.especialistas))},dependencies:[N],styles:[".ContainerEspecialistas[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px;font-family:Segoe UI,sans-serif}.ContainerEspecialistas[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:1.8rem;font-weight:600;color:#333}.ListaEspecialistas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.NuevoAdminContainer[_ngcontent-%COMP%]{margin-top:32px;display:flex;justify-content:center}.NuevoAdminContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;padding:12px 24px;border-radius:8px;border:none;cursor:pointer;font-size:1rem;font-weight:600;transition:.2s ease}.NuevoAdminContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0d5cab}@media (max-width: 600px){.ContainerEspecialistas[_ngcontent-%COMP%]{padding:12px}}"]})};export{be as ListaEspecialistas};
